(()=>{"use strict";document.addEventListener("click",(function(t){let e;"plus"!==t.target.dataset.action&&"minus"!==t.target.dataset.action||(e=t.target.closest(".counter-wrapper").querySelector("[data-counter]")),"plus"===t.target.dataset.action&&(e.innerText=++e.innerText),"minus"===t.target.dataset.action&&(parseInt(e.innerText)>1?e.innerText=--e.innerText:t.target.closest(".med-basket")&&1===parseInt(e.innerText)&&t.target.closest(".grid__good").remove())})),document.addEventListener("click",(function(t){const e=document.querySelector(".symptoms-grid");if(t.target.classList.contains("symptom__add")&&!t.target.classList.contains("add-minus")){const s=t.target.closest(".popup-symptoms__symptom"),o=s.querySelector(".symptom__name");s.querySelector(".symptom__add").classList.toggle("add-minus");const n={id:o.dataset.id,name:o.innerText};if(!e.querySelector(`[data-id="${n.id}"]`)){const t=`<li class="grid__good" data-id="${n.id}" >\n      <div class="good__title">${n.name}</div>\n      <div class="symptom__add add-minus"></div>\n    </li>`;e.insertAdjacentHTML("beforeend",t)}}else if(t.target.classList.contains("symptom__add")&&t.target.classList.contains("add-minus"))if(t.target.closest(".symptoms-grid")){const e=t.target.closest(".grid__good"),s=document.querySelector(".popup-symptoms").querySelector(`[data-id="${e.dataset.id}"]`).closest(".popup-symptoms__symptom");s.querySelector(".symptom__add").classList.remove("add-minus"),e.remove()}else{const s=t.target.closest(".popup-symptoms__symptom").querySelector(".symptom__name").dataset.id;e.querySelector(`[data-id="${s}"]`).closest(".grid__good").remove(),t.target.classList.remove("add-minus")}}));const t=document.querySelector(".goods__grid");document.addEventListener("click",(function(e){if(e.target.hasAttribute("data-cart")){const s=e.target.closest(".panel__popup-medicine"),o={id:s.dataset.id,imgSrc:s.querySelector(".popup-medicine__img").style.backgroundImage.split('"')[1],title:s.querySelector(".medicine-info__name").innerText,counter:s.querySelector("[data-counter]").innerText},n=t.querySelector(`[data-id="${o.id}"]`);if(n){const t=n.querySelector("[data-counter]");t.innerText=parseInt(t.innerText)+parseInt(o.counter)}else{const e=`<li class="grid__good" data-id="${o.id}">\n      <div class="good__image" style="background-image: url(${o.imgSrc})"></div>\n      <div class="good__title">${o.title}</div>\n      <div class="good__counter counter-wrapper">\n        <div class="counter__control" data-action="minus"></div>\n        <div class="counter__curerent" data-counter>${o.counter}</div>\n        <div class="counter__control" data-action="plus"></div>\n      </div>\n    </li>`;t.insertAdjacentHTML("beforeend",e)}s.querySelector("[data-counter]").innerText="1"}}))})();
